schema: '2.0'
stages:
  read_raw_data:
    cmd: python dvc_scripts/read_raw_data.py --output-file ./data/raw/raw_data.pkl
    deps:
    - path: ./dvc_scripts/read_raw_data.py
      md5: 5664e84dd88e1956e4df9be2b58a3cf2
      size: 1888
    - path: ./src/data/read_raw_data.py
      md5: 17b076e43c6f5a3d5896b80a5cdfd122
      size: 465
    params:
      params.yaml:
        read_raw_data.end_id: 891
        read_raw_data.start_id: 1
    outs:
    - path: ./data/raw/raw_data.pkl
      md5: 208352910640c8028970351760b0f187
      size: 108541
  train_test_split:
    cmd: python dvc_scripts/train_test_split.py --raw-input-file ./data/raw/raw_data.pkl
      --train-output-file ./data/train_test_split/train.pkl --test-output-file ./data/train_test_split/test.pkl
    deps:
    - path: ./data/raw/raw_data.pkl
      md5: 208352910640c8028970351760b0f187
      size: 108541
    - path: ./dvc_scripts/read_raw_data.py
      md5: 5664e84dd88e1956e4df9be2b58a3cf2
      size: 1888
    - path: ./src/train_test_split/train_test_split.py
      md5: e9474686d535f93b57f096dfa4019f2b
      size: 772
    params:
      params.yaml:
        train_test_split.random_state: 42
        train_test_split.test_size: 0.2
    outs:
    - path: ./data/train_test_split/test.pkl
      md5: 918a7af7499c0303c9baf2362fde4a43
      size: 22996
    - path: ./data/train_test_split/train.pkl
      md5: 1169ef44c3b2bc593107eaaf39e8d65d
      size: 87104
  train_basic_logistic_regression:
    cmd: python ./dvc_scripts/basic_logistic_regression.py --train-input-file ./data/train_test_split/train.pkl
      --model-output-file models/basic_logistic_regression/model.pkl --metrics-output-file
      metrics/basic_logistic_regression/train.json
    deps:
    - path: ./data/train_test_split/train.pkl
      md5: 1169ef44c3b2bc593107eaaf39e8d65d
      size: 87104
    - path: ./dvc_scripts/basic_logistic_regression.py
      md5: 6664b8a52120ff66b17263378447fd4f
      size: 4496
    - path: ./src/models/basic_logistic_regression.py
      md5: a601a96aef4a8a69a298fd60a507c377
      size: 2235
    params:
      params.yaml:
        model.basic_logistic_regression.classifier_settings:
          numerical_impute_strategy: median
          categorical_impute_strategy: most_frequent
        model.basic_logistic_regression.features:
        - Age
        - Pclass
    outs:
    - path: ./metrics/basic_logistic_regression/train.json
      md5: 4d82772c2639101c631f075adff9e9db
      size: 144
    - path: ./models/basic_logistic_regression/model.pkl
      md5: 826366cdd5da79f2f2923014cca87c0a
      size: 2596
  evaluate_basic_logistic_regression:
    cmd: python ./dvc_scripts/basic_logistic_regression.py --evaluate-test-set ./models/basic_logistic_regression/model.pkl
      ./data/train_test_split/test.pkl --metrics-output-file metrics/basic_logistic_regression/test.json
    deps:
    - path: ./data/train_test_split/test.pkl
      md5: 918a7af7499c0303c9baf2362fde4a43
      size: 22996
    - path: ./dvc_scripts/basic_logistic_regression.py
      md5: 6664b8a52120ff66b17263378447fd4f
      size: 4496
    - path: ./models/basic_logistic_regression/model.pkl
      md5: 826366cdd5da79f2f2923014cca87c0a
      size: 2596
    - path: ./src/models/basic_logistic_regression.py
      md5: a601a96aef4a8a69a298fd60a507c377
      size: 2235
    outs:
    - path: ./metrics/basic_logistic_regression/test.json
      md5: d85ecfd198d0b8fc114f1142b3f2c7d1
      size: 144
